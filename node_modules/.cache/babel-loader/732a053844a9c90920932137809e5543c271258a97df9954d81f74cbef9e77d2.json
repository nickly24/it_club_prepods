{"ast":null,"code":"import React,{useState,useEffect}from'react';import MetroStationsSelector from'./MetroStationsSelector';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Modal(_ref){let{show,onClose,onSubmit,filial}=_ref;const[selectedStation,setSelectedStation]=useState({name:filial.metro,color:filial.metro_color});const[formData,setFormData]=useState({...filial});useEffect(()=>{setFormData(prev=>({...prev,metro:selectedStation.name,metro_color:selectedStation.color}));},[selectedStation]);const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>({...prev,[name]:value}));};const handleSubmit=e=>{e.preventDefault();onSubmit(formData);};if(!show){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"modal-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"modal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C \\u0444\\u0438\\u043B\\u0438\\u0430\\u043B\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"close-button\",children:\"X\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"modal-body\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:formData.name,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u0410\\u0434\\u0440\\u0435\\u0441:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"address\",value:formData.address,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(MetroStationsSelector,{selectedStation:selectedStation,setSelectedStation:setSelectedStation}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u0426\\u0435\\u043D\\u0430:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"price\",value:formData.price,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u0422\\u0435\\u043B\\u0435\\u0444\\u043E\\u043D:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"tel\",value:formData.tel,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"\\u041A\\u043E\\u043C\\u043C\\u0435\\u043D\\u0442\\u0430\\u0440\\u0438\\u0439:\",/*#__PURE__*/_jsx(\"textarea\",{name:\"comment\",value:formData.comment,onChange:handleChange,required:true})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"modal-footer\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"})})]})]})});}","map":{"version":3,"names":["React","useState","useEffect","MetroStationsSelector","jsx","_jsx","jsxs","_jsxs","Modal","_ref","show","onClose","onSubmit","filial","selectedStation","setSelectedStation","name","metro","color","metro_color","formData","setFormData","prev","handleChange","e","value","target","handleSubmit","preventDefault","className","children","onClick","type","onChange","required","address","price","tel","comment"],"sources":["/Users/nickly/Desktop/Прога/project7/client/src/modules/Modal.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport MetroStationsSelector from './MetroStationsSelector';\n\nexport default function Modal({ show, onClose, onSubmit, filial }) {\n  const [selectedStation, setSelectedStation] = useState({\n    name: filial.metro,\n    color: filial.metro_color,\n  });\n\n  const [formData, setFormData] = useState({ ...filial });\n\n  useEffect(() => {\n    setFormData((prev) => ({ ...prev, metro: selectedStation.name, metro_color: selectedStation.color }));\n  }, [selectedStation]);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(formData);\n  };\n\n  if (!show) {\n    return null;\n  }\n\n  return (\n    <div className=\"modal-overlay\">\n      <div className=\"modal\">\n        <div className=\"modal-header\">\n          <h2>Редактировать филиал</h2>\n          <button onClick={onClose} className=\"close-button\">X</button>\n        </div>\n        <form onSubmit={handleSubmit}>\n          <div className=\"modal-body\">\n            <label>\n              Название:\n              <input type=\"text\" name=\"name\" value={formData.name} onChange={handleChange} required />\n            </label>\n            <label>\n              Адрес:\n              <input type=\"text\" name=\"address\" value={formData.address} onChange={handleChange} required />\n            </label>\n            <MetroStationsSelector selectedStation={selectedStation} setSelectedStation={setSelectedStation} />\n            <label>\n              Цена:\n              <input type=\"number\" name=\"price\" value={formData.price} onChange={handleChange} required />\n            </label>\n            <label>\n              Телефон:\n              <input type=\"text\" name=\"tel\" value={formData.tel} onChange={handleChange} required />\n            </label>\n            <label>\n              Комментарий:\n              <textarea name=\"comment\" value={formData.comment} onChange={handleChange} required></textarea>\n            </label>\n          </div>\n          <div className=\"modal-footer\">\n            <button type=\"submit\">Сохранить</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}