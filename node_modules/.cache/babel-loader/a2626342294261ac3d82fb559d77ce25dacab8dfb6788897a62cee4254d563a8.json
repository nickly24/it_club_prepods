{"ast":null,"code":"var _jsxFileName = \"/Users/nickly/Desktop/\\u041F\\u0440\\u043E\\u0433\\u0430/project7/client/src/analytics/AnalyticsTable.js\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AnalyticsTable = ({\n  data\n}) => {\n  const calculateTotals = data => {\n    // Пример расчетов\n    return data.map(monthData => {\n      var _monthData$;\n      const revenue = monthData.reduce((sum, record) => sum + record.number_of_children * record.price_per_session, 0);\n      const commission = revenue * 0.075;\n      const teacherPayments = monthData.reduce((sum, record) => {\n        const children = record.number_of_children;\n        let payment = 1000;\n        if (children > 4 && children < 10) {\n          payment += (children - 4) * 100;\n        } else if (children >= 10) {\n          payment = 2000;\n        }\n        return sum + payment;\n      }, 0);\n      const profit = revenue - commission - teacherPayments;\n      const shareholderProfit = profit / 3;\n      return {\n        month: (_monthData$ = monthData[0]) === null || _monthData$ === void 0 ? void 0 : _monthData$.date.substring(0, 7),\n        revenue,\n        commission,\n        teacherPayments,\n        profit,\n        shareholderProfit\n      };\n    });\n  };\n  const totals = calculateTotals(data);\n  return /*#__PURE__*/_jsxDEV(\"table\", {\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"\\u041C\\u0435\\u0441\\u044F\\u0446\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"\\u0412\\u044B\\u0440\\u0443\\u0447\\u043A\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"\\u041A\\u043E\\u043C\\u0438\\u0441\\u0441\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"\\u041E\\u043F\\u043B\\u0430\\u0442\\u0430 \\u043F\\u0440\\u0435\\u043F\\u043E\\u0434\\u0430\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\\u043C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"\\u041F\\u0440\\u0438\\u0431\\u044B\\u043B\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          children: \"\\u041F\\u0440\\u0438\\u0431\\u044B\\u043B\\u044C \\u043D\\u0430 \\u043A\\u0430\\u0436\\u0434\\u043E\\u0433\\u043E \\u0430\\u043A\\u0446\\u0438\\u043E\\u043D\\u0435\\u0440\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: totals.map((total, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: total.month\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: total.revenue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: total.commission\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: total.teacherPayments\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: total.profit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: total.shareholderProfit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_c = AnalyticsTable;\nexport default AnalyticsTable;\nvar _c;\n$RefreshReg$(_c, \"AnalyticsTable\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","AnalyticsTable","data","calculateTotals","map","monthData","_monthData$","revenue","reduce","sum","record","number_of_children","price_per_session","commission","teacherPayments","children","payment","profit","shareholderProfit","month","date","substring","totals","fileName","_jsxFileName","lineNumber","columnNumber","total","index","_c","$RefreshReg$"],"sources":["/Users/nickly/Desktop/Прога/project7/client/src/analytics/AnalyticsTable.js"],"sourcesContent":["import React from 'react';\n\nconst AnalyticsTable = ({ data }) => {\n  const calculateTotals = (data) => {\n    // Пример расчетов\n    return data.map(monthData => {\n      const revenue = monthData.reduce((sum, record) => sum + record.number_of_children * record.price_per_session, 0);\n      const commission = revenue * 0.075;\n      const teacherPayments = monthData.reduce((sum, record) => {\n        const children = record.number_of_children;\n        let payment = 1000;\n        if (children > 4 && children < 10) {\n          payment += (children - 4) * 100;\n        } else if (children >= 10) {\n          payment = 2000;\n        }\n        return sum + payment;\n      }, 0);\n      const profit = revenue - commission - teacherPayments;\n      const shareholderProfit = profit / 3;\n\n      return {\n        month: monthData[0]?.date.substring(0, 7),\n        revenue,\n        commission,\n        teacherPayments,\n        profit,\n        shareholderProfit,\n      };\n    });\n  };\n\n  const totals = calculateTotals(data);\n\n  return (\n    <table>\n      <thead>\n        <tr>\n          <th>Месяц</th>\n          <th>Выручка</th>\n          <th>Комиссия</th>\n          <th>Оплата преподавателям</th>\n          <th>Прибыль</th>\n          <th>Прибыль на каждого акционера</th>\n        </tr>\n      </thead>\n      <tbody>\n        {totals.map((total, index) => (\n          <tr key={index}>\n            <td>{total.month}</td>\n            <td>{total.revenue}</td>\n            <td>{total.commission}</td>\n            <td>{total.teacherPayments}</td>\n            <td>{total.profit}</td>\n            <td>{total.shareholderProfit}</td>\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n};\n\nexport default AnalyticsTable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}